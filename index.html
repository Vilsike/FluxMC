<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="FluxMC. The world evolves with you. IP: play.fluxmc.gg. Version: 1.21.11" />
  <title>FluxMC</title>

  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <!-- Background layers -->
  <canvas id="embers" aria-hidden="true"></canvas>
  <div class="bg-vignette" aria-hidden="true"></div>

  <!-- Floating header -->
  <header class="topbar" role="banner">
    <div class="topbar-inner">
      <a class="topbar-brand" href="/" aria-label="FluxMC home">
        <img src="assets/logo.png" alt="FluxMC logo" />
        <span class="topbar-name">FluxMC</span>
      </a>

      <nav class="topbar-nav" aria-label="Primary">
        <span class="topbar-pill is-soon" aria-disabled="true">Vote (Coming Soon)</span>
        <span class="topbar-pill is-soon" aria-disabled="true">Store (Coming Soon)</span>

        <a class="topbar-pill is-link" href="https://discord.gg/fluxmc" target="_blank" rel="noreferrer">
          Discord
        </a>

        <button class="topbar-pill is-ip" type="button" id="copyIpBtn" aria-label="Copy server IP">
          <span class="ip-label">IP:</span>
          <code id="ipText">play.fluxmc.gg</code>
          <span class="ip-hint">(click to copy)</span>
        </button>
      </nav>
    </div>
  </header>

  <!-- Content -->
  <main class="wrap" role="main">
    <!-- Floating hero logo -->
    <div class="hero-logo" aria-label="FluxMC logo">
      <img class="hero-logo-img" src="assets/logo.png" alt="FluxMC Logo" />
      <span class="logo-ping" aria-hidden="true"></span>
    </div>

    <div class="card">
      <header class="page-header">
        <h1>FluxMC</h1>
        <p class="tagline">The world evolves with you. A survival server focused on long-term progression.</p>

        <div class="pillrow">
          <div class="pill">IP: <strong><code>play.fluxmc.gg</code></strong></div>
          <div class="pill">Version: <strong>1.21.11</strong></div>
          <div class="pill">Java + Bedrock</div>
        </div>
      </header>

      <div class="grid">
        <section class="section">
          <h2>What FluxMC Is</h2>
          <p>
            Survival with milestones you can work toward over time.
            No pay-to-win. Cosmetics and quality-of-life only.
          </p>

          <div class="buttons">
            <a class="btn primary" href="https://discord.gg/fluxmc" target="_blank" rel="noreferrer">Join Discord</a>
            <a class="btn disabled" href="#" aria-disabled="true">Vote (Coming Soon)</a>
            <a class="btn disabled" href="#" aria-disabled="true">Store (Coming Soon)</a>
            <button class="btn" type="button" id="copyIpBtn2">Copy IP</button>
          </div>
        </section>
      </div>

      <footer class="footer">
        <span>FluxMC</span>
        <span>|</span>
        <a href="https://discord.gg/fluxmc" target="_blank" rel="noreferrer">Discord</a>
      </footer>
    </div>
  </main>

  <!-- Scripts -->
  <script src="js/embers.js"></script>
  <script>
    (function () {
      const ip = "play.fluxmc.gg";

      function copy(text) {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          return navigator.clipboard.writeText(text);
        }
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        return Promise.resolve();
      }

      function flash(el, msg) {
        const prev = el.textContent;
        el.textContent = msg;
        setTimeout(() => (el.textContent = prev), 1200);
      }

      const ipText = document.getElementById("ipText");
      const btn1 = document.getElementById("copyIpBtn");
      const btn2 = document.getElementById("copyIpBtn2");

      if (btn1) {
        btn1.addEventListener("click", async () => {
          try {
            await copy(ip);
            if (ipText) flash(ipText, "Copied!");
          } catch (e) {}
        });
      }

      if (btn2) {
        btn2.addEventListener("click", async () => {
          try {
            await copy(ip);
            btn2.textContent = "Copied!";
            setTimeout(() => (btn2.textContent = "Copy IP"), 1200);
          } catch (e) {}
        });
      }
    })();
  </script>
</body>
</html>
