<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Crownfall. A political medieval SMP built around player-run Houses, Influence, diplomacy, and declared wars. IP: play.crownfall.gg. Version: 1.21.11" />
  <title>Crownfall</title>

  <link rel="stylesheet" href="css/styles.css?v=6" />
</head>

<body>
  <canvas id="embers" aria-hidden="true"></canvas>
  <div class="bg-vignette" aria-hidden="true"></div>

  <header class="topbar" role="banner">
    <div class="topbar-inner">
      <a class="topbar-brand" href="/" aria-label="Crownfall home">
        <img src="assets/logo.png" alt="Crownfall logo" />
        <span class="topbar-name">Crownfall</span>
      </a>

      <nav class="topbar-nav" aria-label="Primary">
        <a class="topbar-link" href="#about">About</a>
        <a class="topbar-link" href="#pillars">Pillars</a>
        <a class="topbar-link" href="#ironvale">Ironvale</a>
      </nav>
    </div>
  </header>

  <main class="wrap" role="main">
    <div class="hero-logo" aria-label="Crownfall logo">
      <img class="hero-logo-img" src="assets/logo.png" alt="Crownfall logo" />
      <span class="logo-ping" aria-hidden="true"></span>
    </div>

    <div class="card">
      <header class="page-header">
        <div class="phase-badge-img" aria-label="Development phase">
          <img src="assets/badge_development.png" alt="In Development" />
        </div>

        <h1>Crownfall</h1>

        <p class="tagline">
          A political medieval SMP where player-run Houses rise through Influence, diplomacy, trade, culture, and declared war.
        </p>

        <div class="cta-row" role="group" aria-label="Primary actions">
          <a class="btn btn-primary" href="/discord" target="_blank" rel="noreferrer">
            Join the Discord
          </a>

          <button class="btn btn-secondary" type="button" id="copyIpBtn" aria-label="Copy server IP">
            Copy IP: <strong>play.crownfall.gg</strong>
          </button>
        </div>

        <div class="meta-row" aria-label="Status">
          <span class="chip">Vote: Coming Soon</span>
          <span class="chip">Store: Coming Soon</span>
        </div>

        <div class="pillrow">
          <div class="pill">Version: <strong>1.21.11</strong></div>
          <div class="pill">Java + Bedrock</div>
          <div class="pill">Capital: <strong>Ironvale</strong></div>
        </div>
      </header>

      <div class="grid">
        <section class="section" id="about">
          <h2>What is Crownfall</h2>
          <p>
            Crownfall is a realm-scale survival experience built around politics and player agency. You form a House, claim territory,
            build your seat of power, and compete for Influence through meaningful systems rather than constant raiding.
          </p>
        </section>

        <section class="section" id="pillars">
          <h2>Core Pillars</h2>
          <p>
            <strong>Houses, not factions.</strong> Your identity is your House, your banner, your allies, and your reputation.
            <br />
            <strong>Influence.</strong> A realm-wide measure of power tied to governance, status, and major decisions.
            <br />
            <strong>Diplomacy and economy.</strong> Trade routes, markets, taxes, and negotiated agreements matter.
            <br />
            <strong>War is opt-in.</strong> Formal declarations, scheduled conflicts, and objective-based outcomes.
          </p>
        </section>

        <section class="section" id="ironvale">
          <h2>Ironvale</h2>
          <p>
            Ironvale is the capital city and political hub. It is where Houses meet, treaties are signed, markets flourish,
            and council business is handled. It is spawn, but it is also the stage.
          </p>
        </section>

        <section class="section">
          <h2>Get Involved</h2>
          <p>
            We are actively building Crownfall. Join the Discord to follow dev updates, see system previews, and get early access when testing opens.
          </p>
        </section>
      </div>
    </div>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="js/embers.js?v=6"></script>

  <script>
    (function () {
      const ip = "play.crownfall.gg";

      function showToast(msg) {
        const t = document.getElementById("toast");
        if (!t) return;
        t.textContent = msg;
        t.classList.add("show");
        clearTimeout(window.__toastTimer);
        window.__toastTimer = setTimeout(() => t.classList.remove("show"), 1400);
      }

      function copy(text) {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          return navigator.clipboard.writeText(text);
        }
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        return Promise.resolve();
      }

      const btn = document.getElementById("copyIpBtn");
      if (btn) {
        btn.addEventListener("click", async () => {
          try {
            await copy(ip);
            showToast("Copied: " + ip);
          } catch (e) {
            showToast("Copy failed");
          }
        });
      }
    })();
  </script>
</body>
</html>
